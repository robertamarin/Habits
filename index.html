<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Habit Execution</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="app-header">
    <div class="logo">Execution Ledger</div>
    <nav class="nav">
      <button class="nav-link" data-target="home">Today</button>
      <button class="nav-link" data-target="goals">Goals</button>
      <button class="nav-link" data-target="history">History</button>
    </nav>
    <div class="theme-controls" aria-label="Appearance controls">
      <select id="theme-select" aria-label="Theme">
        <option value="dark">Dark</option>
        <option value="light">Light</option>
      </select>
      <input type="color" id="accent-picker" aria-label="Accent colour" value="#22d3ee">
    </div>
  </header>

  <main>
    <section id="home" class="page">
      <div class="page-header">
        <div>
          <h1>Daily Execution</h1>
          <p class="subtle" id="today-label"></p>
        </div>
        <div class="metrics">
          <div class="metric">
            <div class="metric-value" id="today-count">0</div>
            <div class="metric-label">Actions completed today</div>
          </div>
          <div class="metric">
            <div class="metric-value" id="year-count">0</div>
            <div class="metric-label">Actions completed this year</div>
          </div>
          <div class="metric">
            <div class="metric-value" id="streak-count">0</div>
            <div class="metric-label">Current streak</div>
          </div>
        </div>
      </div>

      <div class="page-grid">
        <div class="main-column">
          <section class="panel">
            <div class="panel-header">
              <h2>Daily progress</h2>
              <div class="goal-summary" id="goal-summary"></div>
            </div>
            <div class="progress-shell" aria-label="Progress toward today">
              <div id="progress-bar" class="progress-bar"></div>
              <div id="progress-label" class="progress-label"></div>
            </div>
            <div class="feedback-row">
              <div class="feedback-chip" id="quote"></div>
              <div class="feedback-chip" id="xp-level"></div>
            </div>
          </section>

          <section class="panel">
            <div class="panel-header">
              <h2>Daily goals</h2>
              <div class="subtle">Shows what is scheduled for the selected day</div>
            </div>
            <div id="daily-goal-grid" class="grid"></div>
            <p class="subtle" id="no-goals-message">No goals available. Add goals in the Goals page.</p>
          </section>

          <section class="panel">
            <div class="panel-header">
              <h2>To-dos</h2>
              <div class="subtle">Fast, optional tasks that count toward momentum</div>
            </div>
            <form id="todo-form" class="inline-form todo-form">
              <input type="text" id="todo-input" placeholder="Quick add a task" required>
              <input type="date" id="todo-due" aria-label="Due date">
              <button type="submit">Add task</button>
            </form>
            <div class="todo-list stacked" id="todo-list"></div>
            <div class="todo-actions">
              <div id="todo-today-count" class="subtle"></div>
              <button id="clear-completed">Clear completed tasks</button>
            </div>
          </section>
        </div>
        <div class="side-column">
          <section class="panel">
            <div class="panel-header">
              <h2>Snapshot</h2>
              <div class="subtle">Live progress at a glance</div>
            </div>
            <ul class="stat-list" id="stat-list"></ul>
          </section>
          <section class="panel theme-panel">
            <div class="panel-header">
              <h2>Appearance</h2>
              <div class="subtle">Make it yours</div>
            </div>
            <div class="swatch-row">
              <div class="swatch" id="accent-preview"></div>
              <div class="theme-note" id="theme-note"></div>
            </div>
          </section>
        </div>
      </div>
    </section>

    <section id="goals" class="page hidden">
      <div class="page-header">
        <h1>Goals configuration</h1>
        <p class="subtle">Defines what a complete day requires. Changes apply only to future days.</p>
      </div>
      <section class="panel">
        <div class="panel-header">
          <h2>Current goals</h2>
        </div>
        <ul id="goal-list" class="goal-list" aria-live="polite"></ul>
        <form id="goal-form" class="inline-form goal-form">
          <input type="text" id="goal-input" placeholder="Add a goal" required>
          <input type="text" id="goal-group" placeholder="Group (e.g. Morning routine)" aria-label="Group">
          <label class="inline-label">Target per day
            <input type="number" id="goal-target" min="1" value="1">
          </label>
          <select id="goal-frequency" aria-label="Frequency">
            <option value="daily">Every day</option>
            <option value="weekdays">Weekdays</option>
            <option value="custom">Specific days</option>
            <option value="week">Times per week</option>
            <option value="month">Times per month</option>
          </select>
          <div class="days-picker" id="goal-days">
            <label><input type="checkbox" value="0">Sun</label>
            <label><input type="checkbox" value="1">Mon</label>
            <label><input type="checkbox" value="2">Tue</label>
            <label><input type="checkbox" value="3">Wed</label>
            <label><input type="checkbox" value="4">Thu</label>
            <label><input type="checkbox" value="5">Fri</label>
            <label><input type="checkbox" value="6">Sat</label>
          </div>
          <label class="inline-label">Times per period
            <input type="number" id="goal-times" min="1" value="3">
          </label>
          <button type="submit">Add</button>
        </form>
      </section>
    </section>

    <section id="history" class="page hidden">
      <div class="page-header">
        <h1>History</h1>
        <p class="subtle">Immutable record of daily outcomes. Filled squares indicate completion.</p>
      </div>
      <section class="panel">
        <div id="history-matrix" class="history-matrix"></div>
      </section>
      <section class="panel" id="analytics">
        <div class="panel-header">
          <h2>Analytics</h2>
          <select id="analytics-range" aria-label="Analytics range">
            <option value="7">Last 7 days</option>
            <option value="30">Last 30 days</option>
            <option value="365">Year to date</option>
          </select>
        </div>
        <div class="analytics-grid">
          <div>
            <h3>Streaks & rates</h3>
            <ul id="analytics-summary" class="analytics-list"></ul>
          </div>
          <div>
            <h3>Completion trends</h3>
            <canvas id="bar-chart" width="480" height="200" aria-label="Completion chart"></canvas>
          </div>
          <div>
            <h3>Export</h3>
            <button id="export-csv">Download CSV</button>
          </div>
        </div>
      </section>
    </section>
  </main>

  <script src="app.js"></script>
</body>
</html>
